!function(a,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):a.urlComposer=e()}(this,function(){"use strict";var a={headingSlash:/^(\/|#)/,trailingSlash:/\/$/,parentheses:/[\(\)]/g,optionalParams:/\((.*?)\)/g,splatParams:/\*\w+/g,namedParam:/(\(\?)?:\w+/,namedParams:/(\(\?)?:\w+/g},e={parse:function(a,r){return a=a||"",r=r||[],r.length?(a=e.replaceArgs(a,r),a=e.removeTrailingSlash(e.removeParentheses(a))):e.removeOptionalParams(a)},replaceArgs:function(r,n){n=n||[],n.forEach(function(a){r=e.replaceArg(r,a)});var t=r.match(a.optionalParams);return t&&t.forEach(function(a){e.isNamedOrSplatParam(a)&&(r=r.replace(a,""))}),r},replaceArg:function(e,r){return e.indexOf(":")!==-1?e.replace(a.namedParam,r):e.replace(a.splatParams,r)},isNamedOrSplatParam:function(e){return a.namedParam.test(e)||a.splatParams.test(e)},removeOptionalParams:function(e){return e.replace(a.optionalParams,"")},removeTrailingSlash:function(e){return e.replace(a.trailingSlash,"")},removeParentheses:function(e){return e.replace(a.parentheses,"")}},r={build:function(a){a=a||{};var e=r.params(a);return e=e?"?"+e:"",""+(a.host||"")+r.path(a)+e},path:function(a){return a=a||{},e.parse(a.path,a.pathArgs)},params:function n(a){var n=[];a=a||{};for(var e in a.params){var r=a.params[e];n.push(e+"="+r)}return n.length?n.join("&"):""}};return r});